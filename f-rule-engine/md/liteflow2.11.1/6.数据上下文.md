# 6.æ•°æ®ä¸Šä¸‹æ–‡

# ğŸŒ¯æ•°æ®ä¸Šä¸‹æ–‡çš„å®šä¹‰å’Œä½¿ç”¨

## [#](https://liteflow.yomahub.com/pages/501abf/#é»˜è®¤ä¸Šä¸‹æ–‡)é»˜è®¤ä¸Šä¸‹æ–‡

LiteFlowæä¾›äº†ä¸€ä¸ªé»˜è®¤çš„æ•°æ®ä¸Šä¸‹æ–‡çš„å®ç°ï¼š`DefaultContext`ã€‚è¿™ä¸ªé»˜è®¤çš„å®ç°å…¶å®é‡Œé¢ä¸»è¦å­˜å‚¨æ•°æ®çš„å®¹å™¨å°±æ˜¯ä¸€ä¸ªMapã€‚

ä½ å¯ä»¥é€šè¿‡`DefaultContext`ä¸­çš„`setData`æ–¹æ³•æ”¾å…¥æ•°æ®ï¼Œé€šè¿‡`getData`æ–¹æ³•è·å¾—æ•°æ®ã€‚

å»ºè®®

`DefaultContext`è™½ç„¶å¯ä»¥ç”¨ï¼Œä½†æ˜¯åœ¨å®é™…ä¸šåŠ¡ä¸­ï¼Œç”¨è¿™ä¸ªä¼šå­˜åœ¨å¤§é‡çš„å¼±ç±»å‹ï¼Œå­˜å–æ•°æ®çš„æ—¶å€™éƒ½è¦è¿›è¡Œå¼ºè½¬ï¼Œé¢‡ä¸ºä¸æ–¹ä¾¿ã€‚æ‰€ä»¥å®˜æ–¹å»ºè®®ä½ è‡ªå·±å»å®ç°è‡ªå·±çš„æ•°æ®ä¸Šä¸‹æ–‡ã€‚

## [#](https://liteflow.yomahub.com/pages/501abf/#è‡ªå®šä¹‰ä¸Šä¸‹æ–‡)è‡ªå®šä¹‰ä¸Šä¸‹æ–‡

ä½ å¯ä»¥ç”¨ä½ è‡ªå·±çš„ä»»æ„çš„Beanå½“åšä¸Šä¸‹æ–‡è¿›è¡Œä¼ å…¥ã€‚LiteFlowå¯¹ä¸Šä¸‹æ–‡çš„Beanæ²¡æœ‰ä»»ä½•è¦æ±‚ã€‚

è‡ªå·±å®šä¹‰çš„ä¸Šä¸‹æ–‡å®è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„å€¼å¯¹è±¡ï¼Œè‡ªå·±å®šä¹‰çš„ä¸Šä¸‹æ–‡å› ä¸ºæ˜¯å¼ºç±»å‹ï¼Œæ›´åŠ è´´åˆä¸šåŠ¡ã€‚

ä½ å¯ä»¥åƒè¿™æ ·è¿›è¡Œä¼ å…¥ï¼š

```java
LiteflowResponse response = flowExecutor.execute2Resp("chain1", æµç¨‹åˆå§‹å‚æ•°, CustomContext.class);
```

ä¼ å…¥ä¹‹åï¼Œ LiteFlowä¼šåœ¨è°ƒç”¨æ—¶è¿›è¡Œåˆå§‹åŒ–ï¼Œç»™è¿™ä¸ªä¸Šä¸‹æ–‡åˆ†é…å”¯ä¸€çš„å®ä¾‹ã€‚ä½ åœ¨ç»„ä»¶ä¹‹ä¸­å¯ä»¥è¿™æ ·å»è·å¾—è¿™ä¸ªä¸Šä¸‹æ–‡å®ä¾‹ï¼š

```java
@LiteflowComponent("yourCmpId")
public class YourCmp extends NodeComponent {

	@Override
	public void process() {
		CustomContext context = this.getContextBean(CustomContext.class);
		//æˆ–è€…ä½ ä¹Ÿå¯ä»¥ç”¨è¿™ä¸ªæ–¹æ³•å»è·å–ä¸Šä¸‹æ–‡å®ä¾‹ï¼Œå’Œä¸Šé¢æ˜¯ç­‰ä»·çš„
		//CustomContext context = this.getFirstContextBean();
		...
	}
}
```

å…³äºç»„ä»¶ä¹‹ä¸­è¿˜å¯ä»¥è·å¾—å“ªäº›é»˜è®¤çš„å‚æ•°ï¼Œè¯·å‚è€ƒ[æ™®é€šç»„ä»¶](https://liteflow.yomahub.com/pages/8486fb/)ã€‚

## [#](https://liteflow.yomahub.com/pages/501abf/#å¤šä¸Šä¸‹æ–‡)å¤šä¸Šä¸‹æ–‡

LiteFlowåœ¨æ–°ç‰ˆæœ¬ä¸­æ”¯æŒäº†å¤šä¸Šä¸‹æ–‡ï¼Œåœ¨æ‰§è¡Œçš„æ—¶å€™åŒæ—¶åˆå§‹åŒ–ä½ ä¼ å…¥çš„å¤šä¸ªä¸Šä¸‹æ–‡ã€‚åœ¨ç»„ä»¶é‡Œä¹Ÿå¯ä»¥æ ¹æ®classç±»å‹å¾ˆæ–¹ä¾¿çš„æ‹¿åˆ°ã€‚

ä½ å¯ä»¥åƒè¿™æ ·è¿›è¡Œä¼ å…¥ï¼ˆçœ‹ä¸å…¨çš„å¯ä»¥å¾€åæ‹‰ï¼‰ï¼š

```java
LiteflowResponse response = flowExecutor.execute2Resp("chain1", æµç¨‹åˆå§‹å‚æ•°, OrderContext.class, UserContext.class, SignContext.class);
```

åœ¨ç»„ä»¶ä¹‹ä¸­å¯ä»¥è¿™æ ·å»è·å¾—è¿™ä¸ªä¸Šä¸‹æ–‡å®ä¾‹ï¼š

```java
@LiteflowComponent("yourCmpId")
public class YourCmp extends NodeComponent {

	@Override
	public void process() {
		OrderContext orderContext = this.getContextBean(OrderContext.class);
		UserContext userContext = this.getContextBean(UserContext.class);
		SignContext signContext = this.getContextBean(SignContext.class);
		
		//å¦‚æœä½ åªæƒ³è·å–ç¬¬ä¸€ä¸ªä¸Šä¸‹æ–‡ï¼Œç¬¬ä¸€ä¸ªä¸Šä¸‹æ–‡æ˜¯OrderContextï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥ç”¨è¿™ä¸ªæ–¹æ³•
		//OrderContext orderContext = this.getFirstContextBean();
		...
	}
}
```

# ç”¨åˆå§‹åŒ–å¥½çš„ä¸Šä¸‹æ–‡ä¼ å…¥

ä½ å¯èƒ½æ³¨æ„åˆ°äº†ï¼Œåœ¨æ‰§è¡Œå™¨æ‰§è¡Œæµç¨‹çš„æ—¶å€™ï¼Œéœ€è¦ä¼ å…¥æµç¨‹å…¥å‚å’Œä¸Šä¸‹æ–‡classå®šä¹‰(ä¸€ä¸ªæˆ–å¤šä¸ª)ä¸¤ç§å‚æ•°ã€‚

å…³äºæµç¨‹å…¥å‚åœ¨[æµç¨‹å…¥å‚](https://liteflow.yomahub.com/pages/563b67/)ç« èŠ‚æœ‰å…·ä½“è¯´æ˜ã€‚

å¯¹äºæ•°æ®ä¸Šä¸‹æ–‡è€Œè¨€ï¼Œåˆå§‹åŒ–åŠ¨ä½œæ˜¯ç”±æ¡†æ¶æ¥å¤„ç†çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä½ æ‰§è¡Œç¬¬ä¸€ä¸ªç»„ä»¶æ—¶ï¼Œä¸Šä¸‹æ–‡å¯¹è±¡é‡Œé¢æ˜¯æ²¡æœ‰ç”¨æˆ·æ•°æ®çš„ã€‚è€Œä½ çš„æµç¨‹å…¥å‚æ˜¯ç”¨`this.getRequestData()`è·å–çš„ï¼Œ**è¿™éƒ¨åˆ†ä¸åŒ…å«åœ¨ä¸Šä¸‹æ–‡é‡Œé¢**ã€‚

å¦‚æœä½ éœ€è¦å°†æµç¨‹å…¥å‚æ”¾å…¥ä¸Šä¸‹æ–‡ï¼Œé‚£è¿™ä¸€åŠ¨ä½œæ˜¯éœ€è¦ä½ è‡ªå·±æ¥å®Œæˆçš„ã€‚

å¯èƒ½ä¼šæœ‰äººè§‰å¾—è¿™ä¸€æ­¥éª¤ç•¥æ˜¾ç¹çã€‚

LiteFlowä»2.8.4ç‰ˆæœ¬å¼€å§‹ï¼Œå…è®¸ç”¨æˆ·ä¼ å…¥ä¸€ä¸ªæˆ–å¤šä¸ªå·²ç»åˆå§‹åŒ–å¥½çš„beanä½œä¸ºä¸Šä¸‹æ–‡ï¼Œè€Œä¸æ˜¯ä¼ å…¥classå¯¹è±¡ã€‚

åœ¨æ‹¿åˆ°`FlowExecutor`ä¹‹åï¼Œä½ å¯ä»¥åƒå¦‚ä¸‹ä¸€æ ·ï¼Œä¼ å…¥å·²ç»åˆå§‹åŒ–å¥½çš„beanä½œä¸ºä¸Šä¸‹æ–‡ï¼ˆå½“ç„¶ä¹Ÿæ”¯æŒå¤šä¸Šä¸‹æ–‡ï¼Œè¿™é‡Œåªæ¼”ç¤ºå•ä¸Šä¸‹æ–‡ï¼‰ï¼š

```java
OrderContext orderContext = new OrderContext();
orderContext.setOrderNo("SO11223344");
LiteflowResponse response = flowExecutor.execute2Resp("chain1", null, orderContext);
```

å¦‚æœä½ è¿™æ ·è°ƒç”¨ï¼Œç­‰äºä½ çš„ä¸Šä¸‹æ–‡ä¸­å·²ç»åˆå§‹åŒ–å¥½äº†ä¸€ä¸ªä¸€äº›æ•°æ®ã€‚ä»æŸç§æ„ä¹‰ä¸Šæ¥è¯´ï¼Œè¿™å·²ç»ç­‰åŒäº`æµç¨‹å…¥å‚`äº†ï¼Œæ‰€ä»¥ä½¿ç”¨è¿™ä¸ªçš„æ—¶å€™ï¼Œä½ å®Œå…¨å¯ä»¥ä¸ä¼ æµç¨‹å…¥å‚äº†ã€‚

è­¦å‘Š

æ¡†æ¶å¹¶ä¸æ”¯æŒä¸Šä¸‹æ–‡beanå’Œclassæ··ä¼ ï¼Œä½ è¦ä¹ˆéƒ½ä¼ beanï¼Œè¦ä¹ˆéƒ½ä¼ classã€‚

# ğŸ¡æ‰§è¡Œæ–¹æ³•

ä½ å¯ä»¥åœ¨Springboot/Springä½“ç³»ä¸­çš„ä»»ä½•è¢«Springä¸Šä¸‹æ–‡ç®¡ç†çš„ç±»ä¸­è¿›è¡Œæ³¨å…¥`FlowExecutor`ã€‚

`FlowExecutor`æœ‰å¤šä¸ªé‡è½½æ–¹æ³•ã€‚

## [#](https://liteflow.yomahub.com/pages/20072e/#è¿”å›ç±»å‹ä¸ºliteflowresponse)è¿”å›ç±»å‹ä¸ºLiteflowResponse

```java
//å‚æ•°ä¸ºæµç¨‹IDï¼Œæ— åˆå§‹æµç¨‹å…¥å‚ï¼Œä¸Šä¸‹æ–‡ç±»å‹ä¸ºé»˜è®¤çš„DefaultContext
public LiteflowResponse execute2Resp(String chainId)
//ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæµç¨‹IDï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºæµç¨‹å…¥å‚ã€‚ä¸Šä¸‹æ–‡ç±»å‹ä¸ºé»˜è®¤çš„DefaultContext
public LiteflowResponse execute2Resp(String chainId, Object param);
//ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæµç¨‹IDï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºæµç¨‹å…¥å‚ï¼Œåé¢å¯ä»¥ä¼ å…¥å¤šä¸ªä¸Šä¸‹æ–‡class
public LiteflowResponse execute2Resp(String chainId, Object param, Class<?>... contextBeanClazzArray)
//ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæµç¨‹IDï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºæµç¨‹å…¥å‚ï¼Œåé¢å¯ä»¥ä¼ å…¥å¤šä¸ªä¸Šä¸‹æ–‡çš„Bean
public LiteflowResponse execute2Resp(String chainId, Object param, Object... contextBeanArray)
```

å»ºè®®

åœ¨è¿™é‡Œï¼Œå®˜æ–¹åªæ¨èä½ ç”¨ç¬¬3ï¼Œ4ä¸ªæ–¹æ³•ï¼Œå‰é¢2ä¸ªå› ä¸ºæ˜¯é»˜è®¤ä¸Šä¸‹æ–‡ï¼Œå¯ä»¥ç”¨äºæµ‹è¯•åœºæ™¯ï¼Œåœ¨ç”Ÿäº§åœºæ™¯ä¸­å°½é‡åˆ«ç”¨é»˜è®¤ä¸Šä¸‹æ–‡ã€‚

## [#](https://liteflow.yomahub.com/pages/20072e/#è¿”å›ç±»å‹ä¸ºfuture)è¿”å›ç±»å‹ä¸ºFuture

```java
public Future<LiteflowResponse> execute2Future(String chainId, Object param, Class<?>... contextBeanClazzArray)
```

å¦‚æœè°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œé‚£å°±æ˜¯æ— é˜»å¡çš„ï¼Œæƒ³è¦æ‹¿åˆ°responseï¼Œè¯·ç”¨å¾—åˆ°çš„future.get()å°±å¯ä»¥äº†ã€‚

åŒæ—¶ï¼Œä¸»æ‰§è¡Œå™¨åœ¨è¿™ä¸ªæ¨¡å¼ä¸‹çš„çº¿ç¨‹æ•°å’Œçº¿ç¨‹æ± ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ï¼Œå…·ä½“é…ç½®å¦‚ä¸‹ï¼ŒLiteFlowå·²ç»è®¾ç½®äº†é¢„è®¾å€¼ï¼Œä½ ä¹Ÿå¯è‡ªå·±å®šä¹‰ã€‚

```properties
liteflow.main-executor-works=64
liteflow.main-executor-class=com.yomahub.liteflow.thread.LiteFlowDefaultMainExecutorBuilder
```

å¦‚æœä½ å®šä¹‰äº†è‡ªå®šä¹‰çº¿ç¨‹æ± ï¼Œä½ éœ€æ–°å»ºä¸€ä¸ªç±»ï¼Œç„¶åå®ç°`ExecutorBuilder`æ¥å£ï¼š

```java
public class CustomThreadBuilder implements ExecutorBuilder {
    @Override
    public ExecutorService buildExecutor() {
        return Executors.newCachedThreadPool();
    }
}
```

# ğŸ¢æµç¨‹å…¥å‚

åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œå¾ˆå¤šåŒå­¦ä¼šå¯¹æµç¨‹å…¥å‚è¿™ä¸€æ¦‚å¿µæœ‰æ‰€ç–‘æƒ‘ã€‚

åœ¨ä¸€ä¸ªæµç¨‹ä¸­ï¼Œæ€»ä¼šæœ‰ä¸€äº›åˆå§‹çš„å‚æ•°ï¼Œæ¯”å¦‚è®¢å•å·ï¼Œç”¨æˆ·Idç­‰ç­‰ä¸€äº›çš„åˆå§‹å‚æ•°ã€‚è¿™æ—¶å€™éœ€è¦é€šè¿‡ä»¥ä¸‹æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥ï¼š

```java
public LiteflowResponse execute2Resp(String chainId, Object param, Class<?>... contextBeanClazzArray)
```

è¯·æ³¨æ„ï¼Œè¿™ä¸ªæµç¨‹å…¥å‚ï¼Œå¯ä»¥æ˜¯ä»»ä½•å¯¹è±¡ï¼Œä¸€èˆ¬ç”Ÿäº§ä¸šåŠ¡åœºæ™¯ä¸‹ï¼Œä½ å¯ä»¥æŠŠè‡ªå·±å°è£…å¥½çš„Beanä¼ å…¥ã€‚

è¿™ä¸ªå€¼ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹çš„æ–¹æ³•åœ¨ç»„ä»¶ä¸­æ‹¿åˆ°ï¼š

```java
@LiteflowComponent("a")
public class ACmp extends NodeComponent {

	@Override
	public void process() {
		YourBean requestBean = this.getRequestData();
	}
}
```

æç¤º

åœ¨è¿™é‡Œï¼Œæµç¨‹å…¥å‚å¯ä»¥æ˜¯ä»»ä½•å¯¹è±¡ï¼Œå¦‚æœä½ æŠŠæ•°æ®ä¸Šä¸‹æ–‡çš„å®ä¾‹ä¼ å…¥äº†ï¼Œå¹¶ä¸æ„å‘³ç€ä½ æ‹¿åˆ°çš„ç›¸åŒç±»å‹çš„æ•°æ®ä¸Šä¸‹æ–‡ä¸­å°±æ˜¯æœ‰å€¼çš„ã€‚å› ä¸ºè¿™2ä¸ªå¯¹è±¡æ ¹æœ¬å°±æ˜¯2ä¸ªå®ä¾‹ã€‚ æµç¨‹å…¥å‚åªèƒ½é€šè¿‡`this.getRequestData()`å»æ‹¿ã€‚

å¦‚æœä½ çœŸå®ç›®çš„æ˜¯æƒ³æå‰ä¼ å…¥åˆå§‹åŒ–å¥½çš„ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œå¯ä»¥å‚è€ƒ[ç”¨åˆå§‹åŒ–å¥½çš„ä¸Šä¸‹æ–‡ä¼ å…¥](https://liteflow.yomahub.com/pages/f05ed6/)è¿™ä¸€ç« èŠ‚ã€‚

# ğŸˆLiteflowResponseå¯¹è±¡

åœ¨æ‰§è¡Œå™¨è¿”å›ä¸­ï¼Œç”¨çš„æœ€å¤šçš„å°±æ˜¯è¿”å›ä¸€ä¸ª`LiteFlowResponse`å¯¹è±¡ã€‚

è¿™ä¸ªå¯¹è±¡é‡Œé¢åŒ…å«äº†å¾ˆå¤šç»“æœæ•°æ®å’Œè¿‡ç¨‹æ•°æ®ã€‚

## [#](https://liteflow.yomahub.com/pages/9f653d/#æµç¨‹æ‰§è¡Œæ˜¯å¦æˆåŠŸ)æµç¨‹æ‰§è¡Œæ˜¯å¦æˆåŠŸ

ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•æ¥åˆ¤æ–­ä¸€ä¸ªæµç¨‹æ˜¯å¦æ‰§è¡ŒæˆåŠŸï¼š

```java
LiteflowResponse response = flowExecutor.execute2Resp("chain1", åˆå§‹å‚æ•°, CustomContext.class);
boolean isSuccess = response.isSuccess();
```

## [#](https://liteflow.yomahub.com/pages/9f653d/#è·å–å¼‚å¸¸ä¿¡æ¯)è·å–å¼‚å¸¸ä¿¡æ¯

å¦‚æœä¸€ä¸ªæµç¨‹isSuccessä¸ºfalseï¼Œåˆ™å¿…ç„¶æœ‰å¼‚å¸¸ä¿¡æ¯ï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•æ¥è·å¾—å¼‚å¸¸ï¼š

```java
LiteflowResponse response = flowExecutor.execute2Resp("chain1", åˆå§‹å‚æ•°, CustomContext.class);
if (!response.isSuccess()){
  Exception e = response.getCause();
}
```

å…³äºå¼‚å¸¸çš„è§£é‡Šè¯·è¯¦ç»†æŸ¥çœ‹[å¼‚å¸¸](https://liteflow.yomahub.com/pages/dc9bfe/)è¿™ä¸€ç« èŠ‚ã€‚

## [#](https://liteflow.yomahub.com/pages/9f653d/#è·å¾—æ‰§è¡Œæ­¥éª¤è¯¦ç»†ä¿¡æ¯)è·å¾—æ‰§è¡Œæ­¥éª¤è¯¦ç»†ä¿¡æ¯

ç»“æœä¿¡æ¯ä¸­ä¹Ÿå°è£…äº†æµç¨‹æ‰§è¡Œæ¯ä¸€æ­¥çš„è¯¦ç»†ä¿¡æ¯ï¼Œä½ å¯ä»¥é€šè¿‡è¿™ä¸ªæ–¹æ³•æ¥è·å–ï¼š

```java
LiteflowResponse response = flowExecutor.execute2Resp("chain1", åˆå§‹å‚æ•°, CustomContext.class);
Map<String, CmpStep> stepMap = response.getExecuteSteps();
```

ä½ ä¹Ÿå¯ä»¥é€šè¿‡è¿™æ ·çš„æ–¹å¼ä¹Ÿå–åˆ°ä¸€ä¸ªé˜Ÿåˆ—ï¼š

```java
LiteflowResponse response = flowExecutor.execute2Resp("chain1", åˆå§‹å‚æ•°, CustomContext.class);
Queue<CmpStep> stepQueue = response.getExecuteStepQueue();
```

å…³äºè¿™ä¸Šé¢2ä¸ªæ–¹æ³•çš„åŒºåˆ«å’Œæ­¥éª¤ä¿¡æ¯çš„è¯¦ç»†è¯·å‚è€ƒ[æ­¥éª¤ä¿¡æ¯](https://liteflow.yomahub.com/pages/e5ed0d/)ã€‚

## [#](https://liteflow.yomahub.com/pages/9f653d/#ä¸Šä¸‹æ–‡æ•°æ®)ä¸Šä¸‹æ–‡æ•°æ®

æµç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¼šå¯¹ä¸Šä¸‹æ–‡æ•°æ®è¿›è¡Œè¯»å†™æ“ä½œã€‚ä¸€ä¸ªæµç¨‹çš„è¿”å›æ•°æ®ä¹Ÿåº”å½“åŒ…å«åœ¨ä¸Šä¸‹æ–‡ä¸­ã€‚

ä½ è·å¾—äº†`LiteFlowResponse`å¯¹è±¡ä¹‹åï¼Œå¯ä»¥è¿™æ ·è·å¾—ä¸Šä¸‹æ–‡Beanï¼š

```java
LiteflowResponse response = flowExecutor.execute2Resp("chain1", åˆå§‹å‚æ•°, CustomContext.class);
CustomContext context = response.getContextBean(CustomContext.class);
//å¯¹äºåªæœ‰ä¸€ä¸ªä¸Šä¸‹æ–‡çš„responseæ¥è¯´ï¼Œç”¨ä¸‹é¢è¿™å¥ä¹Ÿæ˜¯ç­‰ä»·çš„
//CustomContext context = response.getFirstContextBean();
```

å¯¹äºå¤šä¸Šä¸‹æ–‡æ¥è¯´ï¼Œä¹Ÿæ˜¯ä¸€æ ·çš„ç”¨æ³•ï¼š

```java
LiteflowResponse response = flowExecutor.execute2Resp("chain1", åˆå§‹å‚æ•°, OrderContext.class, UserContext.class);
OrderContext orderContext = response.getContextBean(OrderContext.class);
UserContext userContext = response.getContextBean(UserContext.class);
```

## [#](https://liteflow.yomahub.com/pages/9f653d/#è·å¾—æ­¥éª¤å­—ç¬¦ä¸²ä¿¡æ¯)è·å¾—æ­¥éª¤å­—ç¬¦ä¸²ä¿¡æ¯

è·å¾—ä¸€ä¸ªç®€å•æ˜“æ‡‚çš„ç»„ä»¶æ­¥éª¤çš„å­—ç¬¦ä¸²æ‹¼è£…ä¿¡æ¯ï¼š

```java
LiteflowResponse response = flowExecutor.execute2Resp("chain1", åˆå§‹å‚æ•°, CustomContext.class);
String stepStr = response.getExecuteStepStrWithTime();
```

è¿™ä¸ªå­—ç¬¦ä¸²æ‰“å°å‡ºæ¥ç»“æœå¦‚ä¸‹ï¼š

```text
a[ç»„ä»¶A]<201>==>b[ç»„ä»¶B]<300>==>m[ç»„ä»¶M]<1205>
```

è¿™é‡Œçš„è¡¨è¾¾å½¢å¼ä¸º`ç»„ä»¶ID[ç»„ä»¶åˆ«å]<è€—æ—¶æ¯«ç§’>`ã€‚å…³äºå¦‚ä½•è®¾ç½®ç»„ä»¶åˆ«åå¯ä»¥å‚è€ƒ[ç»„ä»¶åˆ«å](https://liteflow.yomahub.com/pages/92ef89/)ã€‚

åŒæ—¶ï¼Œresponseå¯¹è±¡é‡Œè¿˜æä¾›äº†`getExecuteStepStrWithoutTime`è¿™ä¸ªæ–¹æ³•ï¼Œç”¨äºè¿”å›ä¸å¸¦æœ‰è€—æ—¶æ—¶é—´çš„æ­¥éª¤å­—ç¬¦ä¸²ã€‚

æç¤º

äº‹å®ä¸Šï¼Œåœ¨æ¯ä¸€ä¸ªæµç¨‹æ‰§è¡Œç»“æŸåï¼Œæ¡†æ¶ä¼šè‡ªåŠ¨æ‰“å°è¿™ä¸ªæ­¥éª¤å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥æ— éœ€ä½ è‡ªå·±è·å–æ‰“å°ã€‚

è¿™é‡Œåªæ˜¯è¯´æ˜å¦‚ä½•è·å–ï¼Œå¦‚æœä½ è¦æŒä¹…åŒ–ä¸‹æ¥ï¼Œå¯ä»¥è¿™æ ·è·å–ã€‚